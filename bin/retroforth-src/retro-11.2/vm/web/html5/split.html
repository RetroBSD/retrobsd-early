<!DOCTYPE html>
<head>
<head>
<meta name="description" content="Retro Language and the Ngaro VM in HTML5" />
<link rel="stylesheet" href="theme.css" />
<link rel="stylesheet" href="tab.css" />
<script src="jquery.js"></script>
<script src="idtabs.js"></script>
</head>

<body onload="rxPrepareCanvas('framebuffer', 'framebufferd'); rxLoadCleanImage(); rxPrepareVM(); rxStartVM(); rxListProjects();">
<div style="display: none"><p>Retro Language and Ngaro VM in HTML5</p></div>
<div class="idTabs">
  <ul>
    <li><a href="#console">Console</a></li>
    <li><a href="#draw">Canvas</a></li>
    <li><a href="#editor">Editor</a></li>
    <li><a href="#docs">Documentation</a></li>
    <li><a href="#settings">Settings</a></li>
  </ul>

  <div id="console">
    <div>
      <div style="float: right">
        <input type="button" onClick="javascript:rxLoadCleanImage()" value="new" />
        <input type="button" onClick="javascript:rxSaveImage()" value="save" />
        <input type="button" onClick="javascript:rxLoadImage()" value="load" />
        <br/>
        <input type="button" onClick="javascript:rxClearCanvas()" value="clear screen" />
        <input type="button" onClick="javascript:rxToggleVM()" value="pause vm" id="vmtoggle"/>
      </div>
      <div><canvas id="framebuffer" width="640" height="480" /></div>
      <form action="javascript:rxProcessInput()">
        <input type="textarea" onBlur="javascript:rxProcessInput();"
               class="placeholder" placeholder="enter code here"
               id="tib" size="80"></input>
        <br>
        <input type="checkbox" onClick="javascript:rxToggleInputMethod()"
               checked="true">Use buffered input</input>
      </form>
    </div>
  </div>

  <div id="draw">
    <div>
      <div><canvas id="framebufferd" width="640" height="480" /></div>
    </div>
  </div>

  <div id="editor">
    <div>
      <div style="float: right">
        <input type="textarea" class="placeholder" placeholder="project name"
               id="rxProjectName" size="25"></input>
        <br/>
        <input type="button" onClick="javascript:rxNewProject()" value="new" />
        <input type="button" onClick="javascript:rxSaveProject()" value="save" />
        <input type="button" onClick="javascript:rxLoadSavedProject()" value="load" />
        <input type="button" onClick="javascript:rxRunProject()" value="evaluate" />
        <hr/>
        <select id="projectList" size="4" style="width: 200px" onChange="javascript:rxSelectProject(this.selectedIndex)">
        </select>
        <hr/>
        <input type="button" onClick="javascript:rxDeleteProject()" value="delete current project" />
      </div>
      <textarea rows="35" cols="80" id="project"></textarea>
    </div>
  </div>

  <div id="docs">
    <div>
      <div style="float: right">
        <a href="javascript:rxLoadCoreDocs()">Core Functions</a><br/>
        <a href="javascript:rxLoadVocabDocs()">Vocabularies</a><br/>
      </div>
      <pre id="documentation" style="max-height: 600px; width: 600px; overflow: auto">&nbsp</pre>
    </div>
  </div>

  <div id="settings">
    Process opcodes every <input type="textarea" onBlur="javascript:rxSetInterval()"
                                 id="frequency" value="75"/> milliseconds.
    <br>
    Process <input type="textarea" onBlur="javascript:rxSetCyclesPerInterval()" id="cycles"
                   value="5000"/> instructions per cycle.
  </div>

</div>

<script src="canvastext.js"></script>
<script src="ngaro.js"></script>
<script src="retroImage.js"></script>
<script type="text/javascript">
  $("#idTabs ul").idTabs();
  $('#documentation').load('Core_Functions.rst');

  function rxLoadCoreDocs()
  {
    $('#documentation').load('Core_Functions.rst');
  }

  function rxLoadVocabDocs()
  {
    $('#documentation').load('Libraries.rst');
  }
</script>
</body>
</html>
